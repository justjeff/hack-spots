<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <title>SSR Partner Schools</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href='https://fonts.googleapis.com/css?family=Lato'
        rel='stylesheet' type='text/css'>
    <link rel="shortcut icon" href="./favicon.ico">
    <script src='https://cdnjs.cloudflare.com/ajax/libs/tabletop.js/1.5.1/tabletop.min.js'></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" />
    <script type='text/javascript' src='./js/sheetsee.js'></script>
    <link rel="stylesheet" type="text/css" href="./css/style.css">
</head>
<body>
    <div class="container">
        <div id="map">Loading...</div>
        


    </div>
    <footer>
        <p>This map is built upon a Google <a
                    href="https://docs.google.com/spreadsheets/d/1vKnhsjDpULudiTg2AU6MdZV2nRcOyct6mqo4cQhlVKY">Spreadsheet</a>.
                &mdash; How cool is that?</p>
    </footer>

    <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function () {
            var URL = '1vKnhsjDpULudiTg2AU6MdZV2nRcOyct6mqo4cQhlVKY'
            Tabletop.init({ key: URL, callback: showInfo, simpleSheet: true })
        })
        function showInfo(data) {
            console.log(data)
            var popup = "<a href='{{webURL}}' target='_blank'>"
                + "<h4>{{name}}</h4></a>" + "<p>{{address}} " + "{{city}} " + "{{zipcode}} </p>" + "<p> Office Hours: {{officeHours}}" + "<p><a href='tel:{{phone}}'>{{phone}}</a></p>"
            var mapOptions = {
                data: data,
                mapDiv: 'map',
                geoJSONincludes: ['name', 'address', 'city', 'zipcode', 'phone', 'officeHours', 'webURL'],
                cluster: true,
                template: popup,
                hexcolor: '#2db3e7'
            }
            Sheetsee.loadMap(mapOptions)
            
        }
    </script>

</body>

</html>

